<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Lista de Tareas</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
  <div class="container py-5">
    <h2>Lista de Tareas</h2>
    <form action="/add" method="POST" class="form-inline mb-3">
      <input type="text" name="name" class="form-control mr-2" required />
      <button type="submit" class="btn btn-primary">Agregar</button>
    </form>
    <table class="table table-bordered bg-white">
      <tr><th>Tarea</th><th>Estado</th><th>Acciones</th></tr>
      <% items.forEach(item => { %>
        <tr>
          <td><%= item.completed ? `<s>${item.name}</s>` : item.name %></td>
          <td><%= item.completed ? "✔️" : "⏳" %></td>
          <td>
            <% if (!item.completed) { %>
              <a href="/done/<%= item._id %>" class="btn btn-success btn-sm">Completar</a>
            <% } else { %>
              <a href="/undone/<%= item._id %>" class="btn btn-warning btn-sm">Deshacer</a>
            <% } %>
            <a href="/delete/<%= item._id %>" class="btn btn-danger btn-sm">Eliminar</a>
          </td>
        </tr>
      <% }) %>
    </table>
  </div>
</body>
</html>
